!function(e){function t(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,a){"use strict";var n=a(7),i=a(6),r=a(5);window.GameState={showingWinScreen:!1,players:{user:new r.a("user"),computer:new r.a("computer")},get leader(){return this.players.user.score==this.players.computer.score?null:this.players.user.score>this.players.computer.score?this.players.user:this.players.computer},get winningText(){return this.leader?"user"==this.leader.name?"You won!":"You lost!":null},resetScores:function(){this.players.user.resetScore(),this.players.computer.resetScore()},ball:{xDirection:"right",yDirection:"down",x:20,y:200,delta:{x:0,y:0,speed:.35,get xSpeed(){return this.x*this.speed},get ySpeed(){return this.y*this.speed}}},leftPaddle:{x:10,y:200,height:100,width:10},rightPaddle:{x:780,y:200,height:100,width:10,speed:20,detectionPadding:35},settings:n.a,colors:i.a},t.a=window.GameState},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(4),i=void 0;window.onload=function(){i=new n.a("gameCanvas")}},function(e,t){},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=a(0),r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=function(){function e(t){n(this,e),this.canvas=t,this.draw()}return r(e,[{key:"draw",value:function(){this.canvas.color(i.a.colors.ball).beginPath(),this.canvas.context.arc(i.a.ball.x,i.a.ball.y,i.a.settings.ball.size,0,2*Math.PI,!0),this.canvas.context.closePath(),this.canvas.context.fill()}},{key:"reset",value:function(){i.a.leader&&i.a.leader.score>=i.a.settings.winningScore&&(i.a.showingWinScreen=!0,this.canvas.clearCanvas()),this.reverseBallSpeed(),i.a.ball.x=this.canvas.el.width/2,i.a.ball.y=this.canvas.el.height/2}},{key:"reverseBallSpeed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";return i.a.settings.ball.speed[e]=-i.a.settings.ball.speed[e],this}},{key:"setDeltaSpeedForPaddle",value:function(e){e+="Paddle",i.a.settings.ball.speed.y=i.a.ball.delta.ySpeed}},{key:"collisionWithPaddle",value:function(e){if(e+="Paddle",i.a[e]){var t={leftPaddle:i.a.ball.x<=i.a[e].x+i.a[e].width,rightPaddle:i.a.ball.x>=i.a[e].x-i.a[e].width};return i.a.ball.delta.y=i.a.ball.y-(i.a[e].y+i.a[e].height/2),!!(t[e]&&i.a.ball.y>i.a[e].y&&i.a.ball.y<i.a[e].y+i.a[e].height)}}},{key:"move",value:function(){i.a.ball.x=i.a.ball.x+i.a.settings.ball.speed.x,i.a.ball.y=i.a.ball.y+i.a.settings.ball.speed.y,this.collisionWithPaddle("left")&&this.reverseBallSpeed().setDeltaSpeedForPaddle("left"),this.collisionWithPaddle("right")&&this.reverseBallSpeed().setDeltaSpeedForPaddle("right"),i.a.ball.x<i.a.settings.boundaries.left&&(this.reset(),i.a.players.computer.incrementScore()),i.a.ball.x>this.canvas.el.width-i.a.settings.boundaries.right&&(this.reset(),i.a.players.user.incrementScore()),i.a.ball.y<i.a.settings.boundaries.top&&this.reverseBallSpeed("y"),i.a.ball.y>this.canvas.el.height-i.a.settings.boundaries.bottom&&this.reverseBallSpeed("y")}}]),e}();t.a=s},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=a(3),r=a(0),s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=function(){function e(t){n(this,e),this.id=t,this.el.addEventListener("mousemove",this.changeLeftPaddleWithMouse.bind(this)),this.el.addEventListener("click",this.restart.bind(this)),setInterval(this.run.bind(this),1e3/r.a.settings.fps)}return s(e,[{key:"run",value:function(){r.a.showingWinScreen||(this.draw(),this.move())}},{key:"restart",value:function(){r.a.showingWinScreen&&(r.a.resetScores(),r.a.showingWinScreen=!1)}},{key:"draw",value:function(){this.drawCanvas(),this.drawBall(),this.drawPaddle("left"),this.drawPaddle("right")}},{key:"clearCanvas",value:function(){this.color(r.a.colors.canvasBg).fillRect(0,0,this.el.width,this.el.height),this.drawScores(),this.drawWinner()}},{key:"drawCanvas",value:function(){if(!this.el)throw new Error(r.a.settings.errors.canvas);this.color(r.a.colors.canvasBg).fillRect(0,0,this.el.width,this.el.height),this.drawNet(),this.drawScores()}},{key:"drawNet",value:function(){for(var e=10;e<this.el.height;e+=40)this.color(r.a.colors.net).fillRect(this.el.width/2-1,e,2,20)}},{key:"drawWinner",value:function(){this.color("#ffffff"),this.textAlign("center"),this.font("45px "+r.a.settings.fontFamily),this.context.fillText(""+r.a.winningText,400,300),this.font("15px "+r.a.settings.fontFamily),this.context.fillText("[click to play again]",400,320)}},{key:"drawScores",value:function(){this.color("#ffffff"),this.font(r.a.settings.font),this.context.fillText(r.a.players.user.score,50,50),this.context.fillText(r.a.players.computer.score,this.fromRight(70),50)}},{key:"drawBall",value:function(){this.ball=new i.a(this)}},{key:"drawPaddle",value:function(e){e+="Paddle",this.color(r.a.colors.paddle).fillRect(r.a[e].x,r.a[e].y,r.a[e].width,r.a[e].height)}},{key:"move",value:function(){this.ball.move(),this.movePaddle()}},{key:"movePaddle",value:function(){var e=r.a.rightPaddle.y+r.a.rightPaddle.height/2;if(e<r.a.ball.y-r.a.rightPaddle.detectionPadding){var t=r.a.ball.y-r.a.rightPaddle.detectionPadding-e,a=r.a.rightPaddle.speed;t<20&&(a-=t),r.a.rightPaddle.y=r.a.rightPaddle.y+a}else if(e>r.a.ball.y+r.a.rightPaddle.detectionPadding){var n=r.a.ball.y+r.a.rightPaddle.detectionPadding+e,i=r.a.rightPaddle.speed;n<20&&(i-=n),r.a.rightPaddle.y=r.a.rightPaddle.y-r.a.rightPaddle.speed}r.a.rightPaddle.y<r.a.settings.boundaries.top?r.a.rightPaddle.y=r.a.settings.boundaries.top:r.a.rightPaddle.y>this.el.height-r.a.settings.boundaries.bottom-r.a.leftPaddle.height&&(r.a.rightPaddle.y=this.el.height-r.a.settings.boundaries.bottom-r.a.leftPaddle.height)}},{key:"changeLeftPaddleWithMouse",value:function(e){var t=this.mouse(e),a=r.a.leftPaddle.height/2,n=t.y-a;n<r.a.settings.boundaries.top?n=r.a.settings.boundaries.top:n>this.el.height-r.a.settings.boundaries.bottom-r.a.leftPaddle.height&&(n=this.el.height-r.a.settings.boundaries.bottom-r.a.leftPaddle.height),r.a.leftPaddle.y=n}},{key:"mouse",value:function(e){var t=this.el.getBoundingClientRect(),a=document.documentElement;return{x:e.clientX-t.left-a.scrollLeft,y:e.clientY-t.top-a.scrollTop}}},{key:"fromRight",value:function(e){return this.el.width-e}},{key:"color",value:function(e){return this.context.fillStyle=e,this.context}},{key:"font",value:function(e){return this.context.font=e,this.context}},{key:"textAlign",value:function(e){return this.context.textAlign=e,this.context}},{key:"context",get:function(){return this.el.getContext("2d")}},{key:"el",get:function(){return document.getElementById(this.id)}}]),e}();t.a=l},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=function(){function e(t){n(this,e),this.name=t,this.score=0}return i(e,[{key:"incrementScore",value:function(){this.score++}},{key:"resetScore",value:function(){this.score=0}}]),e}();t.a=r},function(e,t,a){"use strict";t.a={canvasBg:"#000000",ball:"#ffffff",paddle:"#ffffff",net:"#ffffff"}},function(e,t,a){"use strict";t.a={fps:30,ball:{speed:{x:10,y:4},size:7.5,start:{x:20,y:200}},boundaries:{top:5,right:5,bottom:5,left:5},errors:{canvas:"No canvas element found."},fontFamily:'BlinkMacSystemFont,-apple-system,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:"18px",get font(){return this.fontSize+" "+this.fontFamily},winningScore:5}},function(e,t,a){a(1),e.exports=a(2)}]);